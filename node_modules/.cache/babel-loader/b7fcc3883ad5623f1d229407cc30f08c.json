{"ast":null,"code":"import _regeneratorRuntime from \"/Users/andrew/Documents/Work/SIBMTest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/andrew/Documents/Work/SIBMTest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/andrew/Documents/Work/SIBMTest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andrew/Documents/Work/SIBMTest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andrew/Documents/Work/SIBMTest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andrew/Documents/Work/SIBMTest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andrew/Documents/Work/SIBMTest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/andrew/Documents/Work/SIBMTest/src/components/InvestorForm.js\";\nimport React, { Component } from 'react';\nimport { AwesomeButtonProgress } from 'react-awesome-button'; //import AwesomeButtonStyles from 'react-awesome-button/src/styles/styles.css'\n\n/*\n<AwesomeButtonProgress\n          type=\"secondary\"\n          //style = \"aws-btn\"\n          size=\"medium\"\n          action={(element, next) => console.log(\"printing\")} //doSomethingThenCall(next)}\n        >\n          Primary\n        </AwesomeButtonProgress>\n*/\n//import afswLogo from '../token-logo.png'\n\nimport sibmLogo from '../sibm-logo.png';\nimport busdLogo from '../busd-logo.png';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\n\nvar InvestorForm = /*#__PURE__*/function (_Component) {\n  _inherits(InvestorForm, _Component);\n\n  function InvestorForm(props) {\n    var _this;\n\n    _classCallCheck(this, InvestorForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InvestorForm).call(this, props)); //this.onSubmit = this.onSubmit.bind(this)\n\n    _this.componentDidMount = function () {\n      _this.isComponentMounted = true; //this.setDivSizeThrottleable();\n      //window.addEventListener(\"resize\", this.setDivSizeThrottleable);\n    };\n\n    _this.state = {\n      //TAG\n      presaleAddress: \"0x4b247239335675b7B740deB692b016f61eB18443\",\n      busdAddress: \"0xeD24FC36d5Ee211Ea25A80239Fb8C4Cfd80f12Ee\",\n      BusdContract: \"\",\n      PresaleContract: \"\",\n      contractName: \"\",\n      //PresalePrice : \"\",\n      ps_ABI: [{\n        \"inputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"constructor\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"transactor\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"ApprovePendingTransaction\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"depositer\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"HasPayed\",\n        \"outputs\": [{\n          \"internalType\": \"bool\",\n          \"name\": \"\",\n          \"type\": \"bool\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"PresaleBusdBalance\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"PresaleTokenBalance\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"quantity\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"PresaleTokenBuyRate\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"quantity\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"PresaleTokenSellRate\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"amount\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"RequestPresaleBuyIn\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"usdAddress\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"SetPoolStable\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"tokenAddress\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"SetPoolToken\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"newOwner\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"TranfserOwner\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"recipient\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"amount\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"airDropBusd\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"recipient\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"amount\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"airDropToken\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"name\",\n        \"outputs\": [{\n          \"internalType\": \"string\",\n          \"name\": \"\",\n          \"type\": \"string\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"orderBook\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"orderCount\",\n          \"type\": \"uint256\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"TokensSold\",\n          \"type\": \"uint256\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"TokenSupply\",\n          \"type\": \"uint256\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"price\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"depositer\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"viewConfirmedOrders\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"depositer\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"viewPendingDeposit\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"depositer\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"viewPendingTokenPayment\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"stateMutability\": \"payable\",\n        \"type\": \"receive\"\n      }],\n      output: '500',\n      tokenPrice: '0',\n      token0Img: busdLogo,\n      token1Img: sibmLogo,\n      token0Balance: _this.props.busdBalance,\n      token1Balance: _this.props.sibmBalance,\n      //\n      token0Addr: _this.props.busdAddress,\n      //busd tesnet\n      token1Addr: _this.props.sibmAddress //sibm testnet\n\n    };\n    return _this;\n  }\n\n  _createClass(InvestorForm, [{\n    key: \"componentWillMount\",\n\n    /*componentWillUnmount = () => {\n      this.isComponentMounted = false;\n      //window.removeEventListener(\"resize\", this.setDivSizeThrottleable);\n    };*/\n    value: function () {\n      var _componentWillMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.isComponentMounted = true;\n                _context.next = 3;\n                return this.loadPresaleContract();\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      }\n\n      return componentWillMount;\n    }()\n  }, {\n    key: \"loadPresaleContract\",\n    value: function () {\n      var _loadPresaleContract = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var web3, bsChain, PresaleContract, BusdContract, contractName, tokenPrice, price;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                web3 = window.web3;\n                bsChain = web3.eth;\n                PresaleContract = new bsChain.Contract(this.state.ps_ABI, this.state.presaleAddress);\n                this.setState({\n                  PresaleContract: PresaleContract\n                });\n                BusdContract = new bsChain.Contract(this.state.busd_ABI, this.state.busdAddress);\n                this.setState({\n                  BusdContract: BusdContract\n                });\n                _context2.next = 8;\n                return PresaleContract.methods.name().call();\n\n              case 8:\n                contractName = _context2.sent;\n                this.setState({\n                  contractName: contractName\n                });\n                _context2.next = 12;\n                return PresaleContract.methods.orderBook().call();\n\n              case 12:\n                tokenPrice = _context2.sent;\n                //console.log(\"tokenPrice \",tokenPrice);\n                price = tokenPrice.price;\n                this.setState({\n                  tokenPrice: window.web3.utils.fromWei(price.toString(), 'ether')\n                });\n                console.log(\"tokenPrice \", this.state.tokenPrice);\n\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function loadPresaleContract() {\n        return _loadPresaleContract.apply(this, arguments);\n      }\n\n      return loadPresaleContract;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      //\n      var busdAddress = \"0xeD24FC36d5Ee211Ea25A80239Fb8C4Cfd80f12Ee\";\n      var sibmAddress = \"0x983Bd79E9c57Dd3A87a1de98b9996fD1672768B2\"; //this.props.setSwapPair(this.state.token0Addr, this.state.token1Addr);\n\n      /*if (this.state.token0Img === busdLogo)\n        {\n        let tokenPrice = (this.state.token0Img === busdLogo) ? (this.state.output / this.props.swapPairPrice): (this.state.output * this.props.swapPairPrice);\n        this.setState({tokenPrice})\n        }*/\n\n      /*\n      <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000} //3 secs\n        />\n      */\n      //const busdBal = this.props.busdBalance;\n      // const sibmBal = this.props.sibmBalance;\n      // console.log(\"this.props.busdBalance \", this.props.busdBalance);\n      // console.log(\"this.props.sibmBalance \", this.props.sibmBalance);\n\n      return /*#__PURE__*/React.createElement(\"form\", {\n        className: \"mb-3\",\n        onSubmit: function onSubmit(event) {\n          event.preventDefault();\n          var usd;\n          usd = _this2.input.value.toString(); //let result = window.confirm(\"Sell \" + tokenAmount + ' Busb for ', this.state.tokenPrice,'BUSD');\n\n          console.log(\"Buy \" + usd / _this2.state.tokenPrice + ' Busb for ', usd, 'BUSD'); //usd = window.web3.utils.toWei(usd,'ether');\n\n          console.log(\"Deposit \", usd); //await\n\n          _this2.state.PresaleContract.methods.approve(_this2.state.PresaleContract, usd).call();\n\n          _this2.state.PresaleContract.methods.RequestPresaleBuyIn(usd).call();\n          /*if (result)\n            {\n            tokenAmount = window.web3.utils.toWei(tokenAmount, 'Ether')\n            this.props.swapTokens(tokenAmount, this.state.token0Addr, this.state.token1Addr)\n            }*/\n\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }\n      }, this.state.contractName)), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"select\", {\n        name: \"Exchanges\",\n        id: \"Exchanges\",\n        ref: function ref(select) {\n          _this2.select = select;\n        },\n        onChange: function onChange(event) {\n          if (_this2.select.value === \"PCS\") {//this.setState({imgsrc : ethLogo})\n            //this.setState({tokenCount : window.web3.utils.fromWei(this.props.ethBalance, 'Ether')})\n          } else if (_this2.select.value === \"SIBM\") {//this.setState({imgsrc : tokenLogo});\n            //this.setState({tokenCount : window.web3.utils.fromWei(this.props.tokenBalance, 'Ether')})\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"SIBM\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 17\n        }\n      }, \"SIBM Presale\"))), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"float-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 41\n        }\n      }, \"Token0\")), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"float-right text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 11\n        }\n      }, \"Balance: \", this.state.token0Balance)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        onChange: function onChange(event) {\n          var tokenAmount = _this2.input.value.toString();\n\n          _this2.setState({\n            output: tokenAmount // * this.props.swapPairPrice\n\n          });\n        },\n        ref: function ref(input) {\n          _this2.input = input;\n        },\n        className: \"form-control form-control-lg\",\n        placeholder: \"500\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-append\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.token0Img,\n        height: \"34\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 15\n        }\n      }), \"\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n        name: \"sellToken\",\n        id: \"sellToken\",\n        ref: function ref(select3) {\n          _this2.select3 = select3;\n        },\n        onChange: function onChange(event) {\n          if (_this2.select3.value === \"BUSD\") {\n            _this2.select4.value = \"SIBM\";\n\n            _this2.setState({\n              token0Img: busdLogo\n            });\n\n            _this2.setState({\n              token0Addr: busdAddress\n            });\n\n            _this2.setState({\n              token0Balance: _this2.props.busdBalance\n            }); //this.setState({tokenCount : window.web3.utils.fromWei(this.props.tokenBalance.toString(), 'Ether')})\n\n          } //Exchange token\n          else if (_this2.select3.value === \"SIBM\") {\n            _this2.setState({\n              token0Img: sibmLogo\n            });\n\n            _this2.setState({\n              token0Addr: sibmAddress\n            });\n\n            _this2.setState({\n              token0Balance: _this2.props.sibmBalance\n            });\n          } /////////////////////////////////////////////////////////////////////////////////////////////////////////\n          //this.props.setSwapPair(this.state.token0Addr, this.state.token1Addr);\n\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"BUSD\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 15\n        }\n      }, \"BUSD\"))))), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"float-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 41\n        }\n      }, \"Token1\")), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"float-right text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 11\n        }\n      }, \"Balance: \", this.state.token1Balance)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control form-control-lg\",\n        placeholder: \"0\",\n        value: this.state.output != '0' ? this.state.output / this.state.tokenPrice : 0,\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-append\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.token1Img,\n        height: \"34\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 15\n        }\n      }), \"\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n        name: \"buyToken\",\n        id: \"buyToken\",\n        ref: function ref(select4) {\n          _this2.select4 = select4;\n        },\n        onChange: function onChange(event) {\n          if (_this2.select4.value === \"BUSD\") {\n            _this2.setState({\n              token1Img: busdLogo\n            });\n\n            _this2.setState({\n              token1Addr: busdAddress\n            });\n\n            _this2.setState({\n              token1Balance: _this2.props.busdBalance\n            }); //this.setState({tokenCount : window.web3.utils.fromWei(this.props.tokenBalance.toString(), 'Ether')})\n\n          } //TAG exchange token\n          else if (_this2.select4.value === \"SIBM\") {\n            _this2.setState({\n              token1Img: sibmLogo\n            }); //this.setState({token0Addr : sibmAddress});\n\n\n            _this2.setState({\n              token1Balance: _this2.props.sibmBalance\n            });\n          } //this.props.setSwapPair(this.state.token0Addr, this.state.token1Addr);  \n\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"SIBM\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 17\n        }\n      }, \"SIBM\"))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"float-left text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }\n      }, \"Exchange Rate\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"float-right text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }\n      }, \"1 token0 = \", 1 / parseFloat(this.state.tokenPrice).toFixed(10), \" token1 \")), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn-block btn-lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 9\n        }\n      }, \"Swap Tokens \"));\n    }\n  }]);\n\n  return InvestorForm;\n}(Component);\n\nexport default InvestorForm;","map":{"version":3,"sources":["/Users/andrew/Documents/Work/SIBMTest/src/components/InvestorForm.js"],"names":["React","Component","AwesomeButtonProgress","sibmLogo","busdLogo","Loader","InvestorForm","props","componentDidMount","isComponentMounted","state","presaleAddress","busdAddress","BusdContract","PresaleContract","contractName","ps_ABI","output","tokenPrice","token0Img","token1Img","token0Balance","busdBalance","token1Balance","sibmBalance","token0Addr","token1Addr","sibmAddress","loadPresaleContract","web3","window","bsChain","eth","Contract","setState","busd_ABI","methods","name","call","orderBook","price","utils","fromWei","toString","console","log","event","preventDefault","usd","input","value","approve","RequestPresaleBuyIn","display","justifyContent","alignItems","select","tokenAmount","select3","select4","parseFloat","toFixed"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { AwesomeButtonProgress } from 'react-awesome-button';\n//import AwesomeButtonStyles from 'react-awesome-button/src/styles/styles.css'\n \n/*\n<AwesomeButtonProgress\n          type=\"secondary\"\n          //style = \"aws-btn\"\n          size=\"medium\"\n          action={(element, next) => console.log(\"printing\")} //doSomethingThenCall(next)}\n        >\n          Primary\n        </AwesomeButtonProgress>\n*/\n//import afswLogo from '../token-logo.png'\n\nimport sibmLogo from '../sibm-logo.png'\nimport busdLogo from '../busd-logo.png'\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\n\nclass InvestorForm extends Component {\n  constructor(props) {\n    super(props)\n    //this.onSubmit = this.onSubmit.bind(this)\n    this.state = {\n    //TAG\n      presaleAddress : \"0x4b247239335675b7B740deB692b016f61eB18443\",\n      busdAddress : \"0xeD24FC36d5Ee211Ea25A80239Fb8C4Cfd80f12Ee\",\n      BusdContract : \"\",\n      PresaleContract : \"\",\n      contractName : \"\",\n      //PresalePrice : \"\",\n      ps_ABI : [\n        {\n            \"inputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"constructor\"\n        },\n        {\n            \"inputs\": [\n                {\n                    \"internalType\": \"address\",\n                    \"name\": \"transactor\",\n                    \"type\": \"address\"\n                }\n            ],\n            \"name\": \"ApprovePendingTransaction\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [\n                {\n                    \"internalType\": \"address\",\n                    \"name\": \"depositer\",\n                    \"type\": \"address\"\n                }\n            ],\n            \"name\": \"HasPayed\",\n            \"outputs\": [\n                {\n                    \"internalType\": \"bool\",\n                    \"name\": \"\",\n                    \"type\": \"bool\"\n                }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [],\n            \"name\": \"PresaleBusdBalance\",\n            \"outputs\": [\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [],\n            \"name\": \"PresaleTokenBalance\",\n            \"outputs\": [\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"quantity\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"name\": \"PresaleTokenBuyRate\",\n            \"outputs\": [\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"quantity\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"name\": \"PresaleTokenSellRate\",\n            \"outputs\": [\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"amount\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"name\": \"RequestPresaleBuyIn\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [\n                {\n                    \"internalType\": \"address\",\n                    \"name\": \"usdAddress\",\n                    \"type\": \"address\"\n                }\n            ],\n            \"name\": \"SetPoolStable\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [\n                {\n                    \"internalType\": \"address\",\n                    \"name\": \"tokenAddress\",\n                    \"type\": \"address\"\n                }\n            ],\n            \"name\": \"SetPoolToken\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [\n                {\n                    \"internalType\": \"address\",\n                    \"name\": \"newOwner\",\n                    \"type\": \"address\"\n                }\n            ],\n            \"name\": \"TranfserOwner\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [\n                {\n                    \"internalType\": \"address\",\n                    \"name\": \"recipient\",\n                    \"type\": \"address\"\n                },\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"amount\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"name\": \"airDropBusd\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [\n                {\n                    \"internalType\": \"address\",\n                    \"name\": \"recipient\",\n                    \"type\": \"address\"\n                },\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"amount\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"name\": \"airDropToken\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [],\n            \"name\": \"name\",\n            \"outputs\": [\n                {\n                    \"internalType\": \"string\",\n                    \"name\": \"\",\n                    \"type\": \"string\"\n                }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [],\n            \"name\": \"orderBook\",\n            \"outputs\": [\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"orderCount\",\n                    \"type\": \"uint256\"\n                },\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"TokensSold\",\n                    \"type\": \"uint256\"\n                },\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"TokenSupply\",\n                    \"type\": \"uint256\"\n                },\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"price\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [\n                {\n                    \"internalType\": \"address\",\n                    \"name\": \"depositer\",\n                    \"type\": \"address\"\n                }\n            ],\n            \"name\": \"viewConfirmedOrders\",\n            \"outputs\": [\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [\n                {\n                    \"internalType\": \"address\",\n                    \"name\": \"depositer\",\n                    \"type\": \"address\"\n                }\n            ],\n            \"name\": \"viewPendingDeposit\",\n            \"outputs\": [\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n        },\n        {\n            \"inputs\": [\n                {\n                    \"internalType\": \"address\",\n                    \"name\": \"depositer\",\n                    \"type\": \"address\"\n                }\n            ],\n            \"name\": \"viewPendingTokenPayment\",\n            \"outputs\": [\n                {\n                    \"internalType\": \"uint256\",\n                    \"name\": \"\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n        },\n        {\n            \"stateMutability\": \"payable\",\n            \"type\": \"receive\"\n        }\n        ],\n      output: '500',\n      tokenPrice : '0',\n      token0Img : busdLogo,\n      token1Img : sibmLogo,\n      token0Balance: this.props.busdBalance,\n      token1Balance: this.props.sibmBalance,\n      //\n      token0Addr : this.props.busdAddress, //busd tesnet\n      token1Addr : this.props.sibmAddress  //sibm testnet\n    }\n  }\n  \n  componentDidMount = () => {\n    this.isComponentMounted = true;\n    //this.setDivSizeThrottleable();\n    //window.addEventListener(\"resize\", this.setDivSizeThrottleable);\n  };\n\n  /*componentWillUnmount = () => {\n    this.isComponentMounted = false;\n    //window.removeEventListener(\"resize\", this.setDivSizeThrottleable);\n  };*/\n\n  async componentWillMount() {\n    this.isComponentMounted = true;\n    await this.loadPresaleContract();\n    //window.removeEventListener(\"resize\", this.setDivSizeThrottleable);\n  };\n  async loadPresaleContract()\n    {\n    const web3 = window.web3\n    const bsChain = web3.eth\n    const PresaleContract = new bsChain.Contract(this.state.ps_ABI, this.state.presaleAddress);\n    this.setState({PresaleContract});\n\n    const BusdContract = new bsChain.Contract(this.state.busd_ABI, this.state.busdAddress);\n    this.setState({BusdContract});\n\n    let contractName = await PresaleContract.methods.name().call();\n    this.setState({contractName});  \n    \n    let tokenPrice = await PresaleContract.methods.orderBook().call();\n    //console.log(\"tokenPrice \",tokenPrice);\n    let price = tokenPrice.price;\n    this.setState({tokenPrice : window.web3.utils.fromWei(price.toString(),'ether')}); \n    console.log(\"tokenPrice \",this.state.tokenPrice);\n    } \n\n\n  render() {\n    //\n    const busdAddress =\"0xeD24FC36d5Ee211Ea25A80239Fb8C4Cfd80f12Ee\";\n    const sibmAddress = \"0x983Bd79E9c57Dd3A87a1de98b9996fD1672768B2\";\n    \n    //this.props.setSwapPair(this.state.token0Addr, this.state.token1Addr);\n    /*if (this.state.token0Img === busdLogo)\n      {\n      let tokenPrice = (this.state.token0Img === busdLogo) ? (this.state.output / this.props.swapPairPrice): (this.state.output * this.props.swapPairPrice);\n      this.setState({tokenPrice})\n      }*/\n    /*\n    <Loader\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000} //3 secs\n      />\n    */\n\n  //const busdBal = this.props.busdBalance;\n  // const sibmBal = this.props.sibmBalance;\n  // console.log(\"this.props.busdBalance \", this.props.busdBalance);\n  // console.log(\"this.props.sibmBalance \", this.props.sibmBalance);\n\n    return (\n      <form className=\"mb-3\" onSubmit={(event) => {\n          event.preventDefault()\n          let usd\n          usd = this.input.value.toString()\n          //let result = window.confirm(\"Sell \" + tokenAmount + ' Busb for ', this.state.tokenPrice,'BUSD');\n          console.log(\"Buy \" + usd / this.state.tokenPrice + ' Busb for ',usd ,'BUSD');\n          //usd = window.web3.utils.toWei(usd,'ether');\n          console.log(\"Deposit \", usd);\n          //await\n          this.state.PresaleContract.methods.approve(this.state.PresaleContract , usd).call();\n          this.state.PresaleContract.methods.RequestPresaleBuyIn(usd).call();\n          \n          /*if (result)\n            {\n            tokenAmount = window.web3.utils.toWei(tokenAmount, 'Ether')\n            this.props.swapTokens(tokenAmount, this.state.token0Addr, this.state.token1Addr)\n            }*/\n        }}>\n         <div style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n          }}>\n            <h5>{this.state.contractName}</h5>\n        </div>\n        <div style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n          }}>\n          <select name=\"Exchanges\" id=\"Exchanges\" ref={(select) => { this.select = select }} onChange ={ (event) => {\n                  if (this.select.value === \"PCS\"){\n                    //this.setState({imgsrc : ethLogo})\n                    //this.setState({tokenCount : window.web3.utils.fromWei(this.props.ethBalance, 'Ether')})\n                  }\n                  else if (this.select.value  === \"SIBM\"){\n                    //this.setState({imgsrc : tokenLogo});\n                    //this.setState({tokenCount : window.web3.utils.fromWei(this.props.tokenBalance, 'Ether')})\n                  }\n\n              }}>\n                <option value=\"SIBM\">SIBM Presale</option>\n                \n                \n                \n              </select>\n          </div>     \n        <div>\n          <label className=\"float-left\"><b>Token0</b></label>\n          <span className=\"float-right text-muted\">\n            Balance: {this.state.token0Balance}\n          </span>\n        </div>\n        <div className=\"input-group mb-4\">\n          <input\n            type=\"text\"\n            onChange={(event) => {\n              const tokenAmount = this.input.value.toString()\n              this.setState({\n                output: tokenAmount // * this.props.swapPairPrice\n              })   \n            }}\n            ref={(input) => { this.input = input }}\n            className=\"form-control form-control-lg\"\n            placeholder=\"500\"\n            required />\n          <div className=\"input-group-append\">\n            <div className=\"input-group-text\">\n              <img src={this.state.token0Img} height='34' alt=\"\"/>\n              &nbsp;&nbsp;&nbsp; \n              <select name=\"sellToken\" id=\"sellToken\" ref={(select3) => { this.select3 = select3 }} onChange ={ (event) => {\n                 if (this.select3.value  === \"BUSD\"){\n                    this.select4.value = \"SIBM\";\n                    this.setState({token0Img : busdLogo});\n                    this.setState({token0Addr : busdAddress});\n                    this.setState({token0Balance : this.props.busdBalance});\n\n                    //this.setState({tokenCount : window.web3.utils.fromWei(this.props.tokenBalance.toString(), 'Ether')})\n                  }\n                  \n                  //Exchange token\n                  else if (this.select3.value  === \"SIBM\"){\n                    this.setState({token0Img : sibmLogo});\n                    this.setState({token0Addr : sibmAddress});\n                    this.setState({token0Balance : this.props.sibmBalance});\n                  }\n                  /////////////////////////////////////////////////////////////////////////////////////////////////////////\n                \n                  \n                  //this.props.setSwapPair(this.state.token0Addr, this.state.token1Addr);\n              }}>\n              \n              <option value=\"BUSD\">BUSD</option>\n              \n            </select>\n            </div>\n          </div>\n        </div>\n        <div>\n          <label className=\"float-left\"><b>Token1</b></label>\n          <span className=\"float-right text-muted\">\n            Balance: {this.state.token1Balance}\n          </span>\n        </div>\n        <div className=\"input-group mb-2\">\n          <input\n            type=\"text\"\n            className=\"form-control form-control-lg\"\n            placeholder=\"0\"\n            value= {this.state.output != '0'  ? this.state.output / this.state.tokenPrice : 0}\n            disabled\n          />\n          <div className=\"input-group-append\">\n            <div className=\"input-group-text\">\n              <img src={this.state.token1Img} height='34' alt=\"\"/>\n              &nbsp;\n              <select name=\"buyToken\" id=\"buyToken\" ref={(select4) => { this.select4 = select4 }} onChange ={ (event) => {\n                   if (this.select4.value  === \"BUSD\"){\n                    this.setState({token1Img : busdLogo});\n                    this.setState({token1Addr : busdAddress});\n                    this.setState({token1Balance : this.props.busdBalance});\n                    //this.setState({tokenCount : window.web3.utils.fromWei(this.props.tokenBalance.toString(), 'Ether')})\n                  }\n                  \n                  //TAG exchange token\n                  else if (this.select4.value  === \"SIBM\"){\n                    this.setState({token1Img : sibmLogo});\n                    //this.setState({token0Addr : sibmAddress});\n                    this.setState({token1Balance : this.props.sibmBalance});\n                  }\n                //this.props.setSwapPair(this.state.token0Addr, this.state.token1Addr);  \n                  \n              }}>\n                \n                <option value=\"SIBM\">SIBM</option>\n            </select>\n            </div>\n          </div>\n        </div>        \n        <div className=\"mb-5\">\n          <span className=\"float-left text-muted\">Exchange Rate</span>\n          <span className=\"float-right text-muted\">1 token0 = { 1 / parseFloat(this.state.tokenPrice).toFixed(10)} token1 </span>\n        </div>\n        \n        <button type=\"submit\" className=\"btn btn-primary btn-block btn-lg\">Swap Tokens </button>\n        \n      </form>\n\n\n\n    );\n  }\n}\n\nexport default InvestorForm;\n"]},"metadata":{},"sourceType":"module"}
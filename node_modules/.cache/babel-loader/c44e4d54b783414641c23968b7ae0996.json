{"ast":null,"code":"export function subscribeToProviderEvents(provider, onUpdate, onDisconnect) {\n  if (provider === null || provider === void 0 ? void 0 : provider.on) {\n    var onConnectListener = function onConnectListener(info) {\n      if (info === null || info === void 0 ? void 0 : info.chainId) {\n        onUpdate({\n          chainId: Number(info.chainId)\n        });\n      }\n    };\n\n    provider.on('connect', onConnectListener);\n\n    var onDisconnectListener = function onDisconnectListener(error) {\n      onDisconnect(new Error(error));\n    };\n\n    provider.on('disconnect', onDisconnectListener);\n\n    var onChainChangedListener = function onChainChangedListener(chainId) {\n      onUpdate({\n        chainId: Number(chainId)\n      });\n    };\n\n    provider.on('chainChanged', onChainChangedListener);\n\n    var onAccountsChangedListener = function onAccountsChangedListener(accounts) {\n      onUpdate({\n        accounts: accounts\n      });\n    };\n\n    provider.on('accountsChanged', onAccountsChangedListener);\n    return function () {\n      provider.removeListener('connect', onConnectListener);\n      provider.removeListener('disconnect', onDisconnectListener);\n      provider.removeListener('chainChanged', onChainChangedListener);\n      provider.removeListener('accountsChanged', onAccountsChangedListener);\n    };\n  }\n\n  return function () {\n    return undefined;\n  };\n}","map":null,"metadata":{},"sourceType":"module"}